(function(){var a=function(b,c){var d=a.resolve(b,c||"/"),e=a.modules[d];if(!e)throw new Error("Failed to resolve module "+b+", tried "+d);var f=a.cache[d],g=f?f.exports:e();return g};a.paths=[],a.modules={},a.cache={},a.extensions=[".js",".coffee",".json"],a._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},a.resolve=function(){return function(b,c){function h(b){b=d.normalize(b);if(a.modules[b])return b;for(var c=0;c<a.extensions.length;c++){var e=a.extensions[c];if(a.modules[b+e])return b+e}}function i(b){b=b.replace(/\/+$/,"");var c=d.normalize(b+"/package.json");if(a.modules[c]){var e=a.modules[c](),f=e.browserify;if(typeof f=="object"&&f.main){var g=h(d.resolve(b,f.main));if(g)return g}else if(typeof f=="string"){var g=h(d.resolve(b,f));if(g)return g}else if(e.main){var g=h(d.resolve(b,e.main));if(g)return g}}return h(b+"/index")}function j(a,b){var c=k(b);for(var d=0;d<c.length;d++){var e=c[d],f=h(e+"/"+a);if(f)return f;var g=i(e+"/"+a);if(g)return g}var f=h(a);if(f)return f}function k(a){var b;a==="/"?b=[""]:b=d.normalize(a).split("/");var c=[];for(var e=b.length-1;e>=0;e--){if(b[e]==="node_modules")continue;var f=b.slice(0,e+1).join("/")+"/node_modules";c.push(f)}return c}c||(c="/");if(a._core[b])return b;var d=a.modules.path();c=d.resolve("/",c);var e=c||"/";if(b.match(/^(?:\.\.?\/|\/)/)){var f=h(d.resolve(e,b))||i(d.resolve(e,b));if(f)return f}var g=j(b,e);if(g)return g;throw new Error("Cannot find module '"+b+"'")}}(),a.alias=function(b,c){var d=a.modules.path(),e=null;try{e=a.resolve(b+"/package.json","/")}catch(f){e=a.resolve(b,"/")}var g=d.dirname(e),h=(Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b})(a.modules);for(var i=0;i<h.length;i++){var j=h[i];if(j.slice(0,g.length+1)===g+"/"){var k=j.slice(g.length);a.modules[c+k]=a.modules[g+k]}else j===g&&(a.modules[c]=a.modules[g])}},function(){var b={};a.define=function(c,d){a.modules.__browserify_process&&(b=a.modules.__browserify_process());var e=a._core[c]?"":a.modules.path().dirname(c),f=function(b){var c=a(b,e),d=a.cache[a.resolve(b,e)];return d&&d.parent===null&&(d.parent=g),c};f.resolve=function(b){return a.resolve(b,e)},f.modules=a.modules,f.define=a.define,f.cache=a.cache;var g={id:c,filename:c,exports:{},loaded:!1,parent:null};a.modules[c]=function(){return a.cache[c]=g,d.call(g.exports,f,g,g.exports,e,c,b),g.loaded=!0,g.exports}}}(),a.define("path",function(a,b,c,d,e,f){function g(a,b){var c=[];for(var d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}function h(a,b){var c=0;for(var d=a.length;d>=0;d--){var e=a[d];e=="."?a.splice(d,1):e===".."?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}var i=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;c.resolve=function(){var a="",b=!1;for(var c=arguments.length;c>=-1&&!b;c--){var d=c>=0?arguments[c]:f.cwd();if(typeof d!="string"||!d)continue;a=d+"/"+a,b=d.charAt(0)==="/"}return a=h(g(a.split("/"),function(a){return!!a}),!b).join("/"),(b?"/":"")+a||"."},c.normalize=function(a){var b=a.charAt(0)==="/",c=a.slice(-1)==="/";return a=h(g(a.split("/"),function(a){return!!a}),!b).join("/"),!a&&!b&&(a="."),a&&c&&(a+="/"),(b?"/":"")+a},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(g(a,function(a,b){return a&&typeof a=="string"}).join("/"))},c.dirname=function(a){var b=i.exec(a)[1]||"",c=!1;return b?b.length===1||c&&b.length<=3&&b.charAt(1)===":"?b:b.substring(0,b.length-1):"."},c.basename=function(a,b){var c=i.exec(a)[2]||"";return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return i.exec(a)[3]||""}}),a.define("__browserify_process",function(a,b,c,d,e,f){var f=b.exports={};f.nextTick=function(){var a=typeof window!="undefined"&&window.setImmediate,b=typeof window!="undefined"&&window.postMessage&&window.addEventListener;if(a)return window.setImmediate;if(b){var c=[];return window.addEventListener("message",function(a){if(a.source===window&&a.data==="browserify-tick"){a.stopPropagation();if(c.length>0){var b=c.shift();b()}}},!0),function(b){c.push(b),window.postMessage("browserify-tick","*")}}return function(b){setTimeout(b,0)}}(),f.title="browser",f.browser=!0,f.env={},f.argv=[],f.binding=function(b){if(b==="evals")return a("vm");throw new Error("No such module. (Possibly not yet loaded)")},function(){var b="/",c;f.cwd=function(){return b},f.chdir=function(d){c||(c=a("path")),b=c.resolve(d,b)}}()}),a.define("/package.json",function(a,b,c,d,e,f){b.exports={}}),a.define("/index.coffee",function(a,b,c,d,e,f){(function(){var c,d,e,f,g,h;h=a("./utils"),c={ItemView:a("./ItemView"),ListView:a("./ListView")},g={},d={},f=function(a){var b,c;return b=a.backbone,c=a.knockout,d.backbone=b,d.knockout=c},e=function(a){return g[a]==null&&(g[a]=c[a](d)),g[a]},b.exports={factory:e,inject:f,utils:h}}).call(this)}),a.define("/utils.coffee",function(a,b,c,d,e,f){(function(){b.exports={standardItemTemplate:function(a){var b,c,d,e;c=[];for(d=0,e=a.length;d<e;d++)b=a[d],c.push("<div>\n<strong>"+b+'</strong>:\n<span data-bind="text:'+b+'"></span>\n</div>');return c.join("\n")},standardListTemplate:function(a){var b,c,d,e;return d=function(a){var b,c,d,e;b=[];for(d=0,e=a.length;d<e;d++)c=a[d],b.push('<td data-bind="text:'+c+'"></td>');return b.join("")},b=function(a){var b,c,d,e;b=[];for(d=0,e=a.length;d<e;d++)c=a[d],b.push("<th>"+c+"</th>");return b.join("")},e=d(a),c=b(a),'<table border="1" width="100%">\n	<thead>\n		<tr>'+c+'</tr>\n	</thead>\n	<tbody data-bind="foreach:items">\n		<tr data-bind="attr:{\'data-cid\':$cid}">'+e+"</tr>\n	</tbody>\n</table>"}}}).call(this)}),a.define("/ItemView.coffee",function(a,b,c,d,e,f){(function(){var c,d=function(a,b){return function(){return a.apply(b,arguments)}},e={}.hasOwnProperty,f=function(a,b){function d(){this.constructor=a}for(var c in b)e.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};c=a("./utils"),b.exports=function(a){var b,e,g,h,i;return e=a.backbone,h=a.knockout,g=e,i=h,b=function(a){function b(){return this.onVmChange=d(this.onVmChange,this),this.onModelChange=d(this.onModelChange,this),b.__super__.constructor.apply(this,arguments)}return f(b,a),b.prototype.fields=[],b.prototype.setModel=function(a){return this.model&&this.unsubscribeFromModel(this.model),this.model=a,this.subscribeToModel(this.model),this.updateVmSpecialFields(this.model),typeof this.afterSubscribeToModel=="function"?this.afterSubscribeToModel():void 0},b.prototype.subscribeToModel=function(a){return a.on("change",this.onModelChange)},b.prototype.onModelChange=function(a){return this.updateVm(a,a.changedAttributes())},b.prototype.unsubscribeFromModel=function(a){return a.off("change",this.onModelChange),typeof this.afterUnsubscribeFromModel=="function"?this.afterUnsubscribeFromModel():void 0},b.prototype.updateVm=function(a,b){var c,d,e,f;f=this.fields;for(d=0,e=f.length;d<e;d++)c=f[d],b.hasOwnProperty(c)&&this.vm[c](b[c]);return this.updateVmSpecialFields(a)},b.prototype.updateVmSpecialFields=function(a){return this.vm.$isNew(a.isNew())},b.prototype.onVmChange=function(a,b){return this.model.set(a,b)},b.prototype.html=function(){return c.standardItemTemplate(this.fields)},b.prototype.render=function(){return this.$el.html(this.html()),i.applyBindings(this.vm,this.el)},b.prototype.afterVmCreated=function(){},b.prototype.initialize=function(){var a,b,c,d,e,f=this;this.vm={},e=this.fields;for(c=0,d=e.length;c<d;c++)a=e[c],b=i.observable(),this.vm[a]=b,b.subscribe(function(a){return function(b){return f.onVmChange(a,b)}}(a));return this.vm.$isNew=i.observable(),this.afterVmCreated()},b}(g.View)}}).call(this)}),a.define("/ListView.coffee",function(a,b,c,d,e,f){(function(){var c,d=function(a,b){return function(){return a.apply(b,arguments)}},e={}.hasOwnProperty,f=function(a,b){function d(){this.constructor=a}for(var c in b)e.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},g=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};c=a("./utils"),b.exports=function(a){var b,h,i,j,k;return h=a.backbone,j=a.knockout,i=h,k=j,b=function(a){function b(){return this.onCollectionClear=d(this.onCollectionClear,this),this.onCollectionReset=d(this.onCollectionReset,this),this.onCollectionChange=d(this.onCollectionChange,this),this.onCollectionRemove=d(this.onCollectionRemove,this),this.onCollectionAdd=d(this.onCollectionAdd,this),b.__super__.constructor.apply(this,arguments)}return f(b,a),b.prototype.fields=[],b.prototype.setCollection=function(a){return this.collection&&this.unsubscribeFromCollection(this.collection),this.collection=a,this.subscribeToCollection(this.collection)},b.prototype.subscribeToCollection=function(a){return a.on("add",this.onCollectionAdd),a.on("reset",this.onCollectionReset),a.on("change",this.onCollectionChange),a.on("clear",this.onCollectionClear),a.on("remove",this.onCollectionRemove),typeof this.afterSubscribeToCollection=="function"?this.afterSubscribeToCollection():void 0},b.prototype.unsubscribeFromCollection=function(a){return a.off("add",this.onCollectionAdd),a.off("reset",this.onCollectionReset),a.off("change",this.onCollectionChange),a.off("clear",this.onCollectionClear),a.off("remove",this.onCollectionRemove),typeof this.afterUnsubscribeFromCollection=="function"?this.afterUnsubscribeFromCollection():void 0},b.prototype.modelToVm=function(a){var b,c,d,e,f,g,h;c={},d=a.toJSON(),h=this.fields;for(f=0,g=h.length;f<g;f++)b=h[f],e=d[b],c[b]=k.observable(e);return c.$id=k.observable(a.id),c.$cid=k.observable(a.cid),c},b.prototype.collectionToVm=function(a){var b,c,d,e,f;e=a.models,f=[];for(c=0,d=e.length;c<d;c++)b=e[c],f.push(this.modelToVm(b));return f},b.prototype.onCollectionAdd=function(a,b,c){var d,e;return d=c.at,e=c.index,this.vmInsert(a,e)},b.prototype.onCollectionRemove=function(a,b){return this.vmRemove(a)},b.prototype.onCollectionChange=function(a){return this.vmUpdate(a)},b.prototype.onCollectionReset=function(a){return this.vmReset(a)},b.prototype.onCollectionClear=function(a){return this.vmClear()},b.prototype.vmInsert=function(a,b){return this.vm.items.splice(b,0,this.modelToVm(a))},b.prototype.vmClear=function(){return this.vm.items([])},b.prototype.vmReset=function(a){return this.vm.items(this.collectionToVm(a))},b.prototype.vmUpdate=function(a){var b,c,d,f,h;d=k.utils.arrayFirst(this.vm.items(),function(b){return b.$cid()===a.cid});if(!d)return;b=a.changedAttributes(),h=[];for(c in b){if(!e.call(b,c))continue;f=b[c],g.call(this.fields,c)>=0?h.push(typeof d[c]=="function"?d[c](f):void 0):h.push(void 0)}return h},b.prototype.vmRemove=function(a){var b;return b=a.cid,this.vm.items.remove(function(a){return a.$cid()===b})},b.prototype.html=function(){return c.standardListTemplate(this.fields)},b.prototype.render=function(){return this.$el.html(this.html()),k.applyBindings(this.vm,this.el)},b.prototype.afterVmCreated=function(){},b.prototype.initialize=function(){return this.vm={},this.vm.items=k.observableArray(),this.afterVmCreated()},b}(i.View)}}).call(this)}),a.define("/global.coffee",function(a,b,c,d,e,f){(function(){window.backstage=a("./index")}).call(this)}),a("/global.coffee")})();